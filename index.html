<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WILL - 早稲田大学ITサークル | トップページ</title>
    <meta name="description" content="WILLは早稲田大学のプログラミング・ITサークルです。完全無料でプログラミングが学べ、イベントや企業案件による成長も遊びもあるサークルです。" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Jomolhari&family=Noto+Sans+JP:wght@400;700&family=Tinos:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/css/common.css" />
    <link rel="stylesheet" href="./assets/css/components.css" />
    <link rel="stylesheet" href="./assets/css/pages/index.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="./assets/js/main.js"></script>
  </head>
  <body>
    <!-- ヘッダー部分（共通化） -->
    <div id="header-container"></div>
    <section class="head-image-container">
      <img src="./assets/images/top-page-image.webp" alt="Top" />
      <div class="head-letter">Top</div>
    </section>
    <section class="about-will-section">
      <div class="will-title-cover">
        <h2 class="section-title">WILLについて</h2>
      </div>
      <div class="about-will-cover">
        <div class="about-will-description">
          WILLは、2020年8月に設立された早稲田大学ITサークル（WASEDA IT Leader Lab）です。<br>
          PlayGroundというオンラインのIT学習コミュニティに参加し、<br>
          プログラミングやデザイン、データサイエンスを学んでいます。<br>
          イベントや企業案件により、遊びも成長も両立することができます。
        </div>
      </div>
    </section>
    <section class="latest-information-section">
      <h2 class="section-title">最新情報</h2>
      <div class="carousel-container">
        <div class="carousel-track">
          <div class="carousel-inner">
            <div class="item">
              <img src="./assets/images/amongus.webp" alt="Among Usをプレイ" />
              <div class="event-name">Among Usをプレイ！</div>
              <div class="event-text">究極の心理戦となりました！</div>
            </div>
            <div class="item">
              <img src="./assets/images/bbq.webp" alt="BBQ" />
              <div class="event-name">BBQ</div>
              <div class="event-text">自然の中でのBBQを楽しみました！</div>
            </div>
            <div class="item">
              <img src="./assets/images/dinner.webp" alt="打ち上げ" />
              <div class="event-name">打ち上げ</div>
              <div class="event-text">
                秋学期終了を祝して打ち上げをしました！
              </div>
            </div>
            <div class="item">
              <img src="./assets/images/nazotoki.webp" alt="メトロ謎解き" />
              <div class="event-name">メトロ謎解き</div>
              <div class="event-text">皆で頑張って謎解き中...</div>
            </div>
            <div class="item">
              <img src="./assets/images/tmc.webp" alt="TMC" />
              <div class="event-name">TMC</div>
              <div class="event-text">TMCでも謎解きをしてきました！</div>
            </div>
          </div>
        </div>
        <div class="move-buttons">
          <img class="left" src="./assets/images/arrow_left.webp" alt="前へ" />
          <img class="right" src="./assets/images/arrow_right.webp" alt="次へ" />
        </div>
      </div>
      <a class="activity-button" href="./pages/activities/">
        <div class="button-content-gray">
          <h4 class="button-text-gray">活動紹介はこちら</h4>
        </div>
      </a>
    </section>
    <section class="about-seminar-section">
      <div class="about-seminar-content">
        <h2 class="section-title">学習について</h2>
        <div class="description-frame">
          <div class="about-seminar-description">
            WILLではPlayGroundのゼミクラスタ制に参加し、興味のある分野を選択して学んでいきます。<br>
            入会したら、ゼミ一覧から興味のあるゼミを選択して参加しましょう！<br>
            各ゼミは基本的にDiscordを使用してオンラインで活動しています。
          </div>
        </div>
      </div>
      <a class="seminar-detail-button" href="./pages/seminars/">
        <div class="button-content">
          <h4 class="button-text">ゼミの詳細はこちら</h4>
        </div>
      </a>
    </section>
    <section class="join-flow-and-condition-section">
      <h2 class="section-title">入会フロー</h2>
      <div class="join-flow-and-condition-content">
        <div class="join-flow-details">
          <div class="join-flow-block">
            <div class="join-flow-title">
              <div class="step">
                <div class="step-number">01</div>
              </div>
              <div class="step-content">
                <div class="step-title">オンライン説明会</div>
                <div class="step-text">30-60 mins</div>
              </div>
            </div>
            <p class="step-explanation">
              ZOOMにて活動内容、入会方法についての説明会を行っています。<br />
              下の詳細ボタンよりアクセスし、応募の上奮ってご参加ください！
            </p>
          </div>
          <div class="join-flow-block">
            <div class="join-flow-title">
              <div class="step">
                <div class="step-number">02</div>
              </div>
              <div class="step-content">
                <div class="step-title">セットアップ</div>
                <div class="step-text">90 mins</div>
              </div>
            </div>
            <p class="step-explanation">
              ZOOMにて活動内容、入会方法についての説明会を行っています。<br />
              下の詳細ボタンよりアクセスし、応募の上奮ってご参加ください！
            </p>
          </div>
        </div>
        <div class="join-conditions">
          <div class="join-condition-block">
            <div class="condition-title">入会条件</div>
            <div class="condition-detail">学部1年生～修士1年生の方</div>
            <div class="detail-mini">(1年以上活動に参加できる方)</div>
          </div>
          <div class="join-condition-block">
            <div class="condition-title">入会時期</div>
            <div class="condition-detail">年間を通していつでも入会可能！</div>
          </div>
        </div>
      </div>
      <a class="seminar-detail-button" href="./pages/join/">
        <div class="button-content">
          <h4 class="button-text">入会フローについて詳しくはこちら</h4>
        </div>
      </a>
    </section>
    <!-- フッター部分（共通化） -->
    <div id="footer-container"></div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const track = document.querySelector(".carousel-inner");
        const leftBtn = document.querySelector(".left");
        const rightBtn = document.querySelector(".right");

        const cardGap = 48;
        const cardWidth = 331;
        let visibleCount = window.innerWidth < 900 ? 1 : 2;
        let itemWidth = cardWidth + cardGap;
        let currentIndex = visibleCount;
        let totalItems;
        let autoScrollInterval;

        // Save original sources for hover effects
        const leftSrc = "./assets/images/arrow_left.webp";
        const leftHoverSrc = "./assets/images/arrow_left-hover.webp";
        const rightSrc = "./assets/images/arrow_right.webp";
        const rightHoverSrc = "./assets/images/arrow_right-hover.webp";

        leftBtn.addEventListener(
          "mouseover",
          () => (leftBtn.src = leftHoverSrc)
        );
        leftBtn.addEventListener("mouseout", () => (leftBtn.src = leftSrc));
        rightBtn.addEventListener(
          "mouseover",
          () => (rightBtn.src = rightHoverSrc)
        );
        rightBtn.addEventListener("mouseout", () => (rightBtn.src = rightSrc));

        function initializeCarousel() {
          // Remove all items and rebuild
          const originalItems = [...track.querySelectorAll(".item")].filter(
            (item) => !item.classList.contains("cloned")
          );
          track.innerHTML = "";
          originalItems.forEach((item) => track.appendChild(item));
          totalItems = originalItems.length;

          // Clone for infinite scroll
          for (let i = 0; i < visibleCount; i++) {
            const cloneFirst = originalItems[i].cloneNode(true);
            const cloneLast = originalItems[totalItems - 1 - i].cloneNode(true);
            cloneFirst.classList.add("cloned");
            cloneLast.classList.add("cloned");
            track.appendChild(cloneFirst);
            track.insertBefore(cloneLast, track.firstChild);
          }

          currentIndex = visibleCount;
          itemWidth = cardWidth + cardGap;
          track.style.transition = "none";
          track.style.transform = `translateX(-${currentIndex * itemWidth}px)`;

          // Restart auto-scroll
          clearInterval(autoScrollInterval);
          autoScrollInterval = setInterval(moveNext, 5000);
        }

        function updateCarousel(smooth = true) {
          if (!smooth) {
            track.style.transition = "none";
          } else {
            track.style.transition = "transform 0.5s ease-in-out";
          }
          const offset = currentIndex * itemWidth;
          track.style.transform = `translateX(-${offset}px)`;
        }

        function moveNext() {
          currentIndex++;
          updateCarousel(true);

          if (currentIndex === totalItems + visibleCount) {
            setTimeout(() => {
              currentIndex = visibleCount;
              updateCarousel(false);
            }, 500);
          }
        }

        function movePrev() {
          currentIndex--;
          updateCarousel(true);

          if (currentIndex < visibleCount) {
            setTimeout(() => {
              currentIndex = totalItems;
              updateCarousel(false);
            }, 500);
          }
        }

        rightBtn.addEventListener("click", moveNext);
        leftBtn.addEventListener("click", movePrev);

        // Responsive handling
        window.addEventListener("resize", () => {
          const newCount = window.innerWidth < 900 ? 1 : 2;
          if (newCount !== visibleCount) {
            visibleCount = newCount;
            initializeCarousel();
          }
        });

        // Initial setup
        initializeCarousel();
      });
    </script>
  </body>
</html>
